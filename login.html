<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Login & Registration Form</title>
    <link rel="stylesheet" href="css/login.css">
</head>
<body>
<a href="index.html" class="go-home-button">Go Home</a>
<div class="container">
    <input type="checkbox" id="check">
    <div class="login form">
        <header>Login</header>
        <form action="#">
            <input type="text" placeholder="Enter your email">
            <input type="password" placeholder="Enter your password">
            <a href="#">Forgot password?</a>
            <input type="button" class="button" value="Login">
        </form>
        <div class="signup">
        <span class="signup">Don't have an account?
         <label for="check">Signup</label>
        </span>
        </div>
    </div>
    <div class="registration form">
        <header>Signup</header>
        <form action="#">
            <input type="text" placeholder="Enter your email">
            <input type="password" placeholder="Create a password">
            <input type="password" placeholder="Confirm your password">
            <input type="button" class="button" value="Signup">
        </form>
        <div class="signup">
        <span class="signup">Already have an account?
         <label for="check">Login</label>
        </span>
        </div>
    </div>
</div>

<script type="module">
    import '/js/firebaseIntegration.js';
    import {userSignup, userSignIn} from '/js/firebaseAuth.js';

    /** ES INNECESARIA YA QUE SE REDIRECCIONA DESDE EL JS

     auth.onAuthStateChanged((user) => {
     if (user) {
     window.location.href = 'profile.html';
     } else {
     // User not logged in or has just logged out.
     }
     });*/

    document.querySelector('.login form .button').addEventListener('click', () => {
        const email = document.querySelector('.login form input[type="text"]').value;
        const password = document.querySelector('.login form input[type="password"]').value;

        userSignIn(email, password);
    });

    document.querySelector('.registration form .button').addEventListener('click', () => {
        const email = document.querySelector('.registration form input[type="text"]').value;
        const password = document.querySelector('.registration form input[type="password"]').value;

        userSignup(email, password);
    });

</script>

</body>
</html>
